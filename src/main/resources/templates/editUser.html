<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit User</title>
</head>
<body>
    <h1>Edit User</h1>
    <form th:action="@{'/admin/user/' + ${user.id} + '/edit'}" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" th:value="${user.username}" required /><br><br>

        <label for="role">Role:</label>
        <label for="role">Role:</label>
        <select id="role" name="role">
            <!-- Loop through all roles in the system -->
            <option th:each="role : ${roles}" 
                    th:value="${role.name}" 
                    th:text="${role.name}" 
                    th:selected="${user.roles.contains(role)}"> 
            </option>
        </select><br><br>

        <button type="submit">Save</button>
        <a th:href="@{/admin/users}">Cancel</a>
    </form>
</body>
</html>
